"use strict";function isMobile(){return window.navigator.userAgent.match(/Android/i)||window.navigator.userAgent.match(/webOS/i)||window.navigator.userAgent.match(/iPhone/i)||window.navigator.userAgent.match(/iPod/i)||window.navigator.userAgent.match(/BlackBerry/i)||window.navigator.userAgent.match(/Windows Phone/i)||window.navigator.userAgent.match(/iPad/i)}!function(){var isWebkit=window.navigator.userAgent.toLowerCase().indexOf("webkit")>-1,isOpera=window.navigator.userAgent.toLowerCase().indexOf("opera")>-1,isIE=window.navigator.userAgent.toLowerCase().indexOf("msie")>-1;(isWebkit||isOpera||isIE)&&document.getElementById&&window.addEventListener&&window.addEventListener("hashchange",function(){var id=location.hash.substring(1),element=document.getElementById(id);/^[A-z0-9_-]+$/.test(id)&&element&&(/^(?:a|select|input|button|textarea)$/i.test(element.tagName)||(element.tabIndex=-1),element.focus())},!1)}(),function($){$('a[href*="#"]:not([href="#"])').on("click",function(){if(location.pathname.replace(/^\//,"")===this.pathname.replace(/^\//,"")&&location.hostname===this.hostname){var target=$(this.hash);if(target=target.length?target:$("[name="+this.hash.slice(1)+"]"),target.length)return $("html,body").animate({scrollTop:target.offset().top},1e3),!1}return null})}(jQuery),function(){function toggleFocus(){for(var self=this;self.className.indexOf("nav-menu")===-1;)"li"===self.tagName.toLowerCase()&&(self.className.indexOf("focus")!==-1?self.className=self.className.replace(" focus",""):self.className+=" focus"),self=self.parentElement}var container=document.getElementById("site-navigation"),button=container.getElementsByTagName("button")[0],menu=container.getElementsByTagName("ul")[0],links=menu.getElementsByTagName("a"),subMenus=menu.getElementsByTagName("ul");if(container&&"undefined"!=typeof button){if("undefined"==typeof menu)return void(button.style.display="none");menu.setAttribute("aria-expanded","false"),menu.className.indexOf("nav-menu")===-1&&(menu.className+=" nav-menu"),button.onclick=function(){container.className.indexOf("toggled")!==-1?(container.className=container.className.replace(" toggled",""),button.setAttribute("aria-expanded","false"),menu.setAttribute("aria-expanded","false")):(container.className+=" toggled",button.setAttribute("aria-expanded","true"),menu.setAttribute("aria-expanded","true"))};for(var i=0;i<subMenus.length;i+=1)subMenus[i].parentNode.setAttribute("aria-haspopup","true");for(var _i=0;_i<links.length;_i+=1)links[_i].addEventListener("focus",toggleFocus,!0),links[_i].addEventListener("blur",toggleFocus,!0)}}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcGxpY2F0aW9uLm1pbi5qcyIsImNvbW1vbi5qcyIsInNraXAtbGluay1mb2N1cy5qcyIsInNtb290aC1zY3JvbGwuanMiLCJuYXZpZ2F0aW9uLmpzIl0sIm5hbWVzIjpbImlzTW9iaWxlIiwid2luZG93IiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwibWF0Y2giLCJpc1dlYmtpdCIsInRvTG93ZXJDYXNlIiwiaW5kZXhPZiIsImlzT3BlcmEiLCJpc0lFIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJpZCIsImxvY2F0aW9uIiwiaGFzaCIsInN1YnN0cmluZyIsImVsZW1lbnQiLCJ0ZXN0IiwidGFnTmFtZSIsInRhYkluZGV4IiwiZm9jdXMiLCIkIiwib24iLCJwYXRobmFtZSIsInJlcGxhY2UiLCJ0aGlzIiwiaG9zdG5hbWUiLCJ0YXJnZXQiLCJsZW5ndGgiLCJzbGljZSIsImFuaW1hdGUiLCJzY3JvbGxUb3AiLCJvZmZzZXQiLCJ0b3AiLCJqUXVlcnkiLCJ0b2dnbGVGb2N1cyIsInNlbGYiLCJjbGFzc05hbWUiLCJwYXJlbnRFbGVtZW50IiwiY29udGFpbmVyIiwiYnV0dG9uIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJtZW51IiwibGlua3MiLCJzdWJNZW51cyIsInN0eWxlIiwiZGlzcGxheSIsInNldEF0dHJpYnV0ZSIsIm9uY2xpY2siLCJpIiwicGFyZW50Tm9kZSJdLCJtYXBwaW5ncyI6IkFBQUEsWUNHQSxTQUFTQSxZQUNQLE1BQVFDLFFBQU9DLFVBQVVDLFVBQVVDLE1BQU0sYUFDakNILE9BQU9DLFVBQVVDLFVBQVVDLE1BQU0sV0FDakNILE9BQU9DLFVBQVVDLFVBQVVDLE1BQU0sWUFDakNILE9BQU9DLFVBQVVDLFVBQVVDLE1BQU0sVUFDakNILE9BQU9DLFVBQVVDLFVBQVVDLE1BQU0sZ0JBQ2pDSCxPQUFPQyxVQUFVQyxVQUFVQyxNQUFNLG1CQUNqQ0gsT0FBT0MsVUFBVUMsVUFBVUMsTUFBTSxVQ0gxQyxXQUNDLEdBQU1DLFVBQVdKLE9BQU9DLFVBQVVDLFVBQVVHLGNBQWNDLFFBQVEsYUFDNURDLFFBQVVQLE9BQU9DLFVBQVVDLFVBQVVHLGNBQWNDLFFBQVEsWUFDM0RFLEtBQU9SLE9BQU9DLFVBQVVDLFVBQVVHLGNBQWNDLFFBQVEsWUFFekRGLFVBQVlHLFNBQVdDLE9BQVNDLFNBQVNDLGdCQUFrQlYsT0FBT1csa0JBQ3JFWCxPQUFPVyxpQkFBaUIsYUFBYyxXQUNwQyxHQUFNQyxJQUFLQyxTQUFTQyxLQUFLQyxVQUFVLEdBQzdCQyxRQUFVUCxTQUFTQyxlQUFlRSxHQUVsQyxpQkFBZ0JLLEtBQUtMLEtBSXZCSSxVQUNJLHdDQUF3Q0MsS0FBS0QsUUFBUUUsV0FDekRGLFFBQVFHLGFBR1ZILFFBQVFJLFdBRVQsTUM1Qk4sU0FBZ0JDLEdBQ2ZBLEVBQUUsZ0NBQWdDQyxHQUFHLFFBQVMsV0FDNUMsR0FBSVQsU0FBU1UsU0FBU0MsUUFBUSxNQUFPLE1BQVFDLEtBQUtGLFNBQVNDLFFBQVEsTUFBTyxLQUFPWCxTQUFTYSxXQUFhRCxLQUFLQyxTQUFVLENBQ3BILEdBQUlDLFFBQVNOLEVBQUVJLEtBQUtYLEtBRXBCLElBREFhLE9BQVNBLE9BQU9DLE9BQVNELE9BQVNOLEVBQUFBLFNBQVdJLEtBQUtYLEtBQUtlLE1BQU0sR0FBM0IsS0FDOUJGLE9BQU9DLE9BSVQsTUFIQVAsR0FBRSxhQUFhUyxTQUNiQyxVQUFXSixPQUFPSyxTQUFTQyxLQUMxQixNQUNJLEVBSVgsTUFBTyxTQUVUQyxRQ1ZELFdBY0MsUUFBU0MsZUFLUCxJQUhBLEdBQUlDLE1BQU9YLEtBR0pXLEtBQUtDLFVBQVUvQixRQUFRLGtCQUVPLE9BQS9COEIsS0FBS2xCLFFBQVFiLGdCQUNYK0IsS0FBS0MsVUFBVS9CLFFBQVEsY0FDekI4QixLQUFLQyxVQUFZRCxLQUFLQyxVQUFVYixRQUFRLFNBQVUsSUFFbERZLEtBQUtDLFdBQWEsVUFJdEJELEtBQU9BLEtBQUtFLGNBNUJoQixHQUFNQyxXQUFZOUIsU0FBU0MsZUFBZSxtQkFDcEM4QixPQUFTRCxVQUFVRSxxQkFBcUIsVUFBVSxHQUNsREMsS0FBT0gsVUFBVUUscUJBQXFCLE1BQU0sR0FDNUNFLE1BQVFELEtBQUtELHFCQUFxQixLQUNsQ0csU0FBV0YsS0FBS0QscUJBQXFCLEtBRTNDLElBQUtGLFdBQStCLG1CQUFYQyxRQUF6QixDQTJCQSxHQUFvQixtQkFBVEUsTUFFVCxZQURBRixPQUFPSyxNQUFNQyxRQUFVLE9BSXpCSixNQUFLSyxhQUFhLGdCQUFpQixTQUMvQkwsS0FBS0wsVUFBVS9CLFFBQVEsbUJBQ3pCb0MsS0FBS0wsV0FBYSxhQUdwQkcsT0FBT1EsUUFBVSxXQUNYVCxVQUFVRixVQUFVL0IsUUFBUSxpQkFDOUJpQyxVQUFVRixVQUFZRSxVQUFVRixVQUFVYixRQUFRLFdBQVksSUFDOURnQixPQUFPTyxhQUFhLGdCQUFpQixTQUNyQ0wsS0FBS0ssYUFBYSxnQkFBaUIsV0FFbkNSLFVBQVVGLFdBQWEsV0FDdkJHLE9BQU9PLGFBQWEsZ0JBQWlCLFFBQ3JDTCxLQUFLSyxhQUFhLGdCQUFpQixTQUt2QyxLQUFLLEdBQUlFLEdBQUksRUFBR0EsRUFBSUwsU0FBU2hCLE9BQVFxQixHQUFLLEVBQ3hDTCxTQUFTSyxHQUFHQyxXQUFXSCxhQUFhLGdCQUFpQixPQUl2RCxLQUFLLEdBQUlFLElBQUksRUFBR0EsR0FBSU4sTUFBTWYsT0FBUXFCLElBQUssRUFDckNOLE1BQU1NLElBQUd0QyxpQkFBaUIsUUFBU3dCLGFBQWEsR0FDaERRLE1BQU1NLElBQUd0QyxpQkFBaUIsT0FBUXdCLGFBQWEiLCJmaWxlIjoiYXBwbGljYXRpb24ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC12YXJzICovXG5cbi8qIGNoZWNrIGlmIG1vYmlsZSBkZXZpY2Ugc28gY2FuIHVzZSBtb3JlIG5hdGl2ZSBmdW5jdGlvbnMgKi9cbmZ1bmN0aW9uIGlzTW9iaWxlKCkge1xuICAgICAgICByZXR1cm4gd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL0FuZHJvaWQvaSkgfHwgd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL3dlYk9TL2kpIHx8IHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9pUGhvbmUvaSkgfHwgd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL2lQb2QvaSkgfHwgd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL0JsYWNrQmVycnkvaSkgfHwgd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL1dpbmRvd3MgUGhvbmUvaSkgfHwgd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL2lQYWQvaSk7XG59XG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICogc2tpcC1saW5rLWZvY3VzLWZpeC5qc1xuICpcbiAqIEhlbHBzIHdpdGggYWNjZXNzaWJpbGl0eSBmb3Iga2V5Ym9hcmQgb25seSB1c2Vycy5cbiAqXG4gKiBMZWFybiBtb3JlOiBodHRwczovL2dpdGh1Yi5jb20vQXV0b21hdHRpYy9TbnVnL3B1bGwvMTM2XG4gKi9cbihmdW5jdGlvbiBtb2R1bGUoKSB7XG4gIHZhciBpc1dlYmtpdCA9IHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkuaW5kZXhPZignd2Via2l0JykgPiAtMTtcbiAgdmFyIGlzT3BlcmEgPSB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoJ29wZXJhJykgPiAtMTtcbiAgdmFyIGlzSUUgPSB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoJ21zaWUnKSA+IC0xO1xuXG4gIGlmICgoaXNXZWJraXQgfHwgaXNPcGVyYSB8fCBpc0lFKSAmJiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCAmJiB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcikge1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdoYXNoY2hhbmdlJywgZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGlkID0gbG9jYXRpb24uaGFzaC5zdWJzdHJpbmcoMSk7XG4gICAgICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTtcblxuICAgICAgaWYgKCEvXltBLXowLTlfLV0rJC8udGVzdChpZCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoZWxlbWVudCkge1xuICAgICAgICBpZiAoIS9eKD86YXxzZWxlY3R8aW5wdXR8YnV0dG9ufHRleHRhcmVhKSQvaS50ZXN0KGVsZW1lbnQudGFnTmFtZSkpIHtcbiAgICAgICAgICBlbGVtZW50LnRhYkluZGV4ID0gLTE7XG4gICAgICAgIH1cblxuICAgICAgICBlbGVtZW50LmZvY3VzKCk7XG4gICAgICB9XG4gICAgfSwgZmFsc2UpO1xuICB9XG59KSgpO1xuJ3VzZSBzdHJpY3QnO1xuXG4oZnVuY3Rpb24gbW9kdWxlKCQpIHtcbiAgJCgnYVtocmVmKj1cIiNcIl06bm90KFtocmVmPVwiI1wiXSknKS5vbignY2xpY2snLCBmdW5jdGlvbiBjbGljaygpIHtcbiAgICBpZiAobG9jYXRpb24ucGF0aG5hbWUucmVwbGFjZSgvXlxcLy8sICcnKSA9PT0gdGhpcy5wYXRobmFtZS5yZXBsYWNlKC9eXFwvLywgJycpICYmIGxvY2F0aW9uLmhvc3RuYW1lID09PSB0aGlzLmhvc3RuYW1lKSB7XG4gICAgICB2YXIgdGFyZ2V0ID0gJCh0aGlzLmhhc2gpO1xuICAgICAgdGFyZ2V0ID0gdGFyZ2V0Lmxlbmd0aCA/IHRhcmdldCA6ICQoJ1tuYW1lPScgKyB0aGlzLmhhc2guc2xpY2UoMSkgKyAnXScpO1xuICAgICAgaWYgKHRhcmdldC5sZW5ndGgpIHtcbiAgICAgICAgJCgnaHRtbCxib2R5JykuYW5pbWF0ZSh7XG4gICAgICAgICAgc2Nyb2xsVG9wOiB0YXJnZXQub2Zmc2V0KCkudG9wXG4gICAgICAgIH0sIDEwMDApO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH0pO1xufSkoalF1ZXJ5KTtcbid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBIYW5kbGVzIHRvZ2dsaW5nIHRoZSBuYXZpZ2F0aW9uIG1lbnUgZm9yIHNtYWxsIHNjcmVlbnMgYW5kIGVuYWJsZXMgdGFiXG4gKiBzdXBwb3J0IGZvciBkcm9wZG93biBtZW51cy5cbiAqL1xuXG4oZnVuY3Rpb24gbW9kdWxlKCkge1xuICB2YXIgY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NpdGUtbmF2aWdhdGlvbicpO1xuICB2YXIgYnV0dG9uID0gY29udGFpbmVyLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdidXR0b24nKVswXTtcbiAgdmFyIG1lbnUgPSBjb250YWluZXIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3VsJylbMF07XG4gIHZhciBsaW5rcyA9IG1lbnUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2EnKTtcbiAgdmFyIHN1Yk1lbnVzID0gbWVudS5nZXRFbGVtZW50c0J5VGFnTmFtZSgndWwnKTtcblxuICBpZiAoIWNvbnRhaW5lciB8fCB0eXBlb2YgYnV0dG9uID09PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIG9yIHJlbW92ZXMgLmZvY3VzIGNsYXNzIG9uIGFuIGVsZW1lbnQuXG4gICAqL1xuICBmdW5jdGlvbiB0b2dnbGVGb2N1cygpIHtcbiAgICAvLyBqc2hpbnQgdmFsaWR0aGlzOnRydWVcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAvLyBNb3ZlIHVwIHRocm91Z2ggdGhlIGFuY2VzdG9ycyBvZiB0aGUgY3VycmVudCBsaW5rIHVudGlsIHdlIGhpdCAubmF2LW1lbnUuXG4gICAgd2hpbGUgKHNlbGYuY2xhc3NOYW1lLmluZGV4T2YoJ25hdi1tZW51JykgPT09IC0xKSB7XG4gICAgICAvLyBPbiBsaSBlbGVtZW50cyB0b2dnbGUgdGhlIGNsYXNzIC5mb2N1cy5cbiAgICAgIGlmIChzZWxmLnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ2xpJykge1xuICAgICAgICBpZiAoc2VsZi5jbGFzc05hbWUuaW5kZXhPZignZm9jdXMnKSAhPT0gLTEpIHtcbiAgICAgICAgICBzZWxmLmNsYXNzTmFtZSA9IHNlbGYuY2xhc3NOYW1lLnJlcGxhY2UoJyBmb2N1cycsICcnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZWxmLmNsYXNzTmFtZSArPSAnIGZvY3VzJztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBzZWxmID0gc2VsZi5wYXJlbnRFbGVtZW50O1xuICAgIH1cbiAgfVxuXG4gIC8vIEhpZGUgbWVudSB0b2dnbGUgYnV0dG9uIGlmIG1lbnUgaXMgZW1wdHkgYW5kIHJldHVybiBlYXJseS5cbiAgaWYgKHR5cGVvZiBtZW51ID09PSAndW5kZWZpbmVkJykge1xuICAgIGJ1dHRvbi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIG1lbnUuc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgJ2ZhbHNlJyk7XG4gIGlmIChtZW51LmNsYXNzTmFtZS5pbmRleE9mKCduYXYtbWVudScpID09PSAtMSkge1xuICAgIG1lbnUuY2xhc3NOYW1lICs9ICcgbmF2LW1lbnUnO1xuICB9XG5cbiAgYnV0dG9uLm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKGNvbnRhaW5lci5jbGFzc05hbWUuaW5kZXhPZigndG9nZ2xlZCcpICE9PSAtMSkge1xuICAgICAgY29udGFpbmVyLmNsYXNzTmFtZSA9IGNvbnRhaW5lci5jbGFzc05hbWUucmVwbGFjZSgnIHRvZ2dsZWQnLCAnJyk7XG4gICAgICBidXR0b24uc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgJ2ZhbHNlJyk7XG4gICAgICBtZW51LnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsICdmYWxzZScpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb250YWluZXIuY2xhc3NOYW1lICs9ICcgdG9nZ2xlZCc7XG4gICAgICBidXR0b24uc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgJ3RydWUnKTtcbiAgICAgIG1lbnUuc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgJ3RydWUnKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gU2V0IG1lbnUgaXRlbXMgd2l0aCBzdWJtZW51cyB0byBhcmlhLWhhc3BvcHVwPVwidHJ1ZVwiLlxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN1Yk1lbnVzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgc3ViTWVudXNbaV0ucGFyZW50Tm9kZS5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGFzcG9wdXAnLCAndHJ1ZScpO1xuICB9XG5cbiAgLy8gRWFjaCB0aW1lIGEgbWVudSBsaW5rIGlzIGZvY3VzZWQgb3IgYmx1cnJlZCwgdG9nZ2xlIGZvY3VzLlxuICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgbGlua3MubGVuZ3RoOyBfaSArPSAxKSB7XG4gICAgbGlua3NbX2ldLmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgdG9nZ2xlRm9jdXMsIHRydWUpO1xuICAgIGxpbmtzW19pXS5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgdG9nZ2xlRm9jdXMsIHRydWUpO1xuICB9XG59KSgpO1xuXCJ1c2Ugc3RyaWN0XCI7IiwiLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLXZhcnMgKi9cblxuLyogY2hlY2sgaWYgbW9iaWxlIGRldmljZSBzbyBjYW4gdXNlIG1vcmUgbmF0aXZlIGZ1bmN0aW9ucyAqL1xuZnVuY3Rpb24gaXNNb2JpbGUoKSB7XG4gIHJldHVybiAod2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL0FuZHJvaWQvaSkgfHxcbiAgICAgICAgICB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvd2ViT1MvaSkgfHxcbiAgICAgICAgICB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvaVBob25lL2kpIHx8XG4gICAgICAgICAgd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL2lQb2QvaSkgfHxcbiAgICAgICAgICB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvQmxhY2tCZXJyeS9pKSB8fFxuICAgICAgICAgIHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9XaW5kb3dzIFBob25lL2kpIHx8XG4gICAgICAgICAgd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL2lQYWQvaSkpO1xufVxuIiwiLyoqXG4gKiBza2lwLWxpbmstZm9jdXMtZml4LmpzXG4gKlxuICogSGVscHMgd2l0aCBhY2Nlc3NpYmlsaXR5IGZvciBrZXlib2FyZCBvbmx5IHVzZXJzLlxuICpcbiAqIExlYXJuIG1vcmU6IGh0dHBzOi8vZ2l0aHViLmNvbS9BdXRvbWF0dGljL1NudWcvcHVsbC8xMzZcbiAqL1xuKGZ1bmN0aW9uIG1vZHVsZSgpIHtcbiAgY29uc3QgaXNXZWJraXQgPSB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoJ3dlYmtpdCcpID4gLTE7XG4gIGNvbnN0IGlzT3BlcmEgPSB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoJ29wZXJhJykgPiAtMTtcbiAgY29uc3QgaXNJRSA9IHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkuaW5kZXhPZignbXNpZScpID4gLTE7XG5cbiAgaWYgKChpc1dlYmtpdCB8fCBpc09wZXJhIHx8IGlzSUUpICYmIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkICYmIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKSB7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2hhc2hjaGFuZ2UnLCAoKSA9PiB7XG4gICAgICBjb25zdCBpZCA9IGxvY2F0aW9uLmhhc2guc3Vic3RyaW5nKDEpO1xuICAgICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTtcblxuICAgICAgaWYgKCEoL15bQS16MC05Xy1dKyQvLnRlc3QoaWQpKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChlbGVtZW50KSB7XG4gICAgICAgIGlmICghKC9eKD86YXxzZWxlY3R8aW5wdXR8YnV0dG9ufHRleHRhcmVhKSQvaS50ZXN0KGVsZW1lbnQudGFnTmFtZSkpKSB7XG4gICAgICAgICAgZWxlbWVudC50YWJJbmRleCA9IC0xO1xuICAgICAgICB9XG5cbiAgICAgICAgZWxlbWVudC5mb2N1cygpO1xuICAgICAgfVxuICAgIH0sIGZhbHNlKTtcbiAgfVxufSgpKTtcbiIsIihmdW5jdGlvbiBtb2R1bGUoJCkge1xuICAkKCdhW2hyZWYqPVwiI1wiXTpub3QoW2hyZWY9XCIjXCJdKScpLm9uKCdjbGljaycsIGZ1bmN0aW9uIGNsaWNrKCkge1xuICAgIGlmIChsb2NhdGlvbi5wYXRobmFtZS5yZXBsYWNlKC9eXFwvLywgJycpID09PSB0aGlzLnBhdGhuYW1lLnJlcGxhY2UoL15cXC8vLCAnJykgJiYgbG9jYXRpb24uaG9zdG5hbWUgPT09IHRoaXMuaG9zdG5hbWUpIHtcbiAgICAgIGxldCB0YXJnZXQgPSAkKHRoaXMuaGFzaCk7XG4gICAgICB0YXJnZXQgPSB0YXJnZXQubGVuZ3RoID8gdGFyZ2V0IDogJChgW25hbWU9JHt0aGlzLmhhc2guc2xpY2UoMSl9XWApO1xuICAgICAgaWYgKHRhcmdldC5sZW5ndGgpIHtcbiAgICAgICAgJCgnaHRtbCxib2R5JykuYW5pbWF0ZSh7XG4gICAgICAgICAgc2Nyb2xsVG9wOiB0YXJnZXQub2Zmc2V0KCkudG9wLFxuICAgICAgICB9LCAxMDAwKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9KTtcbn0oalF1ZXJ5KSk7XG4iLCIvKipcbiAqIEhhbmRsZXMgdG9nZ2xpbmcgdGhlIG5hdmlnYXRpb24gbWVudSBmb3Igc21hbGwgc2NyZWVucyBhbmQgZW5hYmxlcyB0YWJcbiAqIHN1cHBvcnQgZm9yIGRyb3Bkb3duIG1lbnVzLlxuICovXG5cbihmdW5jdGlvbiBtb2R1bGUoKSB7XG4gIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzaXRlLW5hdmlnYXRpb24nKTtcbiAgY29uc3QgYnV0dG9uID0gY29udGFpbmVyLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdidXR0b24nKVswXTtcbiAgY29uc3QgbWVudSA9IGNvbnRhaW5lci5nZXRFbGVtZW50c0J5VGFnTmFtZSgndWwnKVswXTtcbiAgY29uc3QgbGlua3MgPSBtZW51LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdhJyk7XG4gIGNvbnN0IHN1Yk1lbnVzID0gbWVudS5nZXRFbGVtZW50c0J5VGFnTmFtZSgndWwnKTtcblxuICBpZiAoIWNvbnRhaW5lciB8fCB0eXBlb2YgYnV0dG9uID09PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIG9yIHJlbW92ZXMgLmZvY3VzIGNsYXNzIG9uIGFuIGVsZW1lbnQuXG4gICAqL1xuICBmdW5jdGlvbiB0b2dnbGVGb2N1cygpIHtcbiAgICAvLyBqc2hpbnQgdmFsaWR0aGlzOnRydWVcbiAgICBsZXQgc2VsZiA9IHRoaXM7XG5cbiAgICAvLyBNb3ZlIHVwIHRocm91Z2ggdGhlIGFuY2VzdG9ycyBvZiB0aGUgY3VycmVudCBsaW5rIHVudGlsIHdlIGhpdCAubmF2LW1lbnUuXG4gICAgd2hpbGUgKHNlbGYuY2xhc3NOYW1lLmluZGV4T2YoJ25hdi1tZW51JykgPT09IC0xKSB7XG4gICAgICAvLyBPbiBsaSBlbGVtZW50cyB0b2dnbGUgdGhlIGNsYXNzIC5mb2N1cy5cbiAgICAgIGlmIChzZWxmLnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ2xpJykge1xuICAgICAgICBpZiAoc2VsZi5jbGFzc05hbWUuaW5kZXhPZignZm9jdXMnKSAhPT0gLTEpIHtcbiAgICAgICAgICBzZWxmLmNsYXNzTmFtZSA9IHNlbGYuY2xhc3NOYW1lLnJlcGxhY2UoJyBmb2N1cycsICcnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZWxmLmNsYXNzTmFtZSArPSAnIGZvY3VzJztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBzZWxmID0gc2VsZi5wYXJlbnRFbGVtZW50O1xuICAgIH1cbiAgfVxuXG4gIC8vIEhpZGUgbWVudSB0b2dnbGUgYnV0dG9uIGlmIG1lbnUgaXMgZW1wdHkgYW5kIHJldHVybiBlYXJseS5cbiAgaWYgKHR5cGVvZiBtZW51ID09PSAndW5kZWZpbmVkJykge1xuICAgIGJ1dHRvbi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIG1lbnUuc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgJ2ZhbHNlJyk7XG4gIGlmIChtZW51LmNsYXNzTmFtZS5pbmRleE9mKCduYXYtbWVudScpID09PSAtMSkge1xuICAgIG1lbnUuY2xhc3NOYW1lICs9ICcgbmF2LW1lbnUnO1xuICB9XG5cbiAgYnV0dG9uLm9uY2xpY2sgPSAoKSA9PiB7XG4gICAgaWYgKGNvbnRhaW5lci5jbGFzc05hbWUuaW5kZXhPZigndG9nZ2xlZCcpICE9PSAtMSkge1xuICAgICAgY29udGFpbmVyLmNsYXNzTmFtZSA9IGNvbnRhaW5lci5jbGFzc05hbWUucmVwbGFjZSgnIHRvZ2dsZWQnLCAnJyk7XG4gICAgICBidXR0b24uc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgJ2ZhbHNlJyk7XG4gICAgICBtZW51LnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsICdmYWxzZScpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb250YWluZXIuY2xhc3NOYW1lICs9ICcgdG9nZ2xlZCc7XG4gICAgICBidXR0b24uc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgJ3RydWUnKTtcbiAgICAgIG1lbnUuc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgJ3RydWUnKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gU2V0IG1lbnUgaXRlbXMgd2l0aCBzdWJtZW51cyB0byBhcmlhLWhhc3BvcHVwPVwidHJ1ZVwiLlxuICBmb3IgKGxldCBpID0gMDsgaSA8IHN1Yk1lbnVzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgc3ViTWVudXNbaV0ucGFyZW50Tm9kZS5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGFzcG9wdXAnLCAndHJ1ZScpO1xuICB9XG5cbiAgLy8gRWFjaCB0aW1lIGEgbWVudSBsaW5rIGlzIGZvY3VzZWQgb3IgYmx1cnJlZCwgdG9nZ2xlIGZvY3VzLlxuICBmb3IgKGxldCBpID0gMDsgaSA8IGxpbmtzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgbGlua3NbaV0uYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCB0b2dnbGVGb2N1cywgdHJ1ZSk7XG4gICAgbGlua3NbaV0uYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIHRvZ2dsZUZvY3VzLCB0cnVlKTtcbiAgfVxufSgpKTtcbiJdfQ==
